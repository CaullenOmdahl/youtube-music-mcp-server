Metadata-Version: 2.4
Name: youtube-music-mcp
Version: 1.0.0
Summary: YouTube Music MCP Server - Search, manage playlists, and curate music
Requires-Python: >=3.10
Description-Content-Type: text/markdown
Requires-Dist: mcp>=1.13.0
Requires-Dist: smithery>=0.1.23
Requires-Dist: ytmusicapi>=1.7.0
Requires-Dist: pydantic>=2.0.0

# YouTube Music MCP Server

A Model Context Protocol (MCP) server that enables AI assistants to interact with YouTube Music. Search for music, manage playlists, and control your YouTube Music library through natural language commands.

## Features

- üîç **Search** - Search for songs, albums, artists, playlists, and videos
- üìã **Playlist Management** - Create, edit, delete, and manage playlists
- üéµ **Library Access** - Access and modify your personal YouTube Music library

- üîê **Secure Authentication** - Header-based authentication keeps your credentials safe

## Installation

### Via Smithery (Recommended)

The easiest way to use this server is through [Smithery](https://smithery.ai/):

1. Visit the [YouTube Music MCP Server on Smithery](https://smithery.ai/server/@CaullenOmdahl/youtube-music-mcp-server)
2. Click "Install" to add it to your MCP client
3. Configure your YouTube Music headers (see [Getting Your Headers](#getting-your-headers))

### Local Installation

```bash
# Clone the repository
git clone https://github.com/CaullenOmdahl/youtube-music-mcp-server.git
cd youtube-music-server

# Install dependencies
pip install -e .

# Run the server
python -m ytmusic_server
- 
## Getting Your Headers

To use authenticated features (playlist management, library access), you need to provide your YouTube Music request headers. Here's how:

### Method 1: Chrome/Edge/Chromium (Recommended)

1. **Open YouTube Music** - Go to [music.youtube.com](https://music.youtube.com) and sign in
2. **Open Developer Tools** - Press F12 or right-click ‚Üí "Inspect"
3. **Go to Network tab** - Click the "Network" tab in Developer Tools
4. **Generate a request** - Click around in YouTube Music (play a song, browse, etc.)
5. **Find a POST request** - Look for requests to `/youtubei/v1/browse` or similar
   - Filter by "Fetch/XHR" to see only API requests
   - Look for method "POST"
6. **Copy Request Headers**
   - Click on the POST request
   - In the Headers panel, look for "Request Headers" section
   - Find the "Raw" toggle or "view source" option and click it
   - **Copy EVERYTHING** from the first line to the last line

### Method 2: Firefox

1. **Open YouTube Music** and sign in
2. **Open Developer Tools** (F12) ‚Üí **Network** tab
3. **Generate requests** by clicking around
4. **Find a POST request** to music.youtube.com
5. **Right-click** the request ‚Üí Copy ‚Üí **Copy Request Headers**

### What the Headers Should Look Like

**Chrome format (with :authority, :method, etc.):**
```
:authority: music.youtube.com
:method: POST
:path: /youtubei/v1/browse?...
:scheme: https
accept: */*
cookie: VISITOR_INFO1_LIVE=...; SID=...; SAPISID=...
[... many more lines ...]
x-youtube-client-version: 1.20250922.03.00
```

**Firefox format (standard HTTP headers):**
```
POST /youtubei/v1/browse?... HTTP/3
Host: music.youtube.com
Accept: */*
Cookie: VISITOR_INFO1_LIVE=...; SID=...; SAPISID=...
[... many more lines ...]
```

**Important:** Copy ALL headers, including authorization and cookies!

## Configuration

### For Smithery Users

After installing the server on Smithery, configure it with your headers:

1. Click on the server settings in your MCP client
2. Paste your complete request headers in the `youtube_music_headers` field
3. Optionally set `default_privacy` to `PRIVATE`, `PUBLIC`, or `UNLISTED`
4. Save the configuration

### For Local Installation

Create a configuration file or set environment variables:

```json
{
  "youtube_music_headers": "YOUR_COMPLETE_HEADERS_HERE",
  "default_privacy": "PRIVATE"
}
```

## Available Tools

### Search Music
Search YouTube Music for content without authentication.

```
search_music(query, filter?, limit?)
```
- `query`: Search terms
- `filter`: Optional - 'songs', 'videos', 'albums', 'artists', 'playlists', 'uploads'
- `limit`: Maximum results (default: 20)

### Get Library Playlists
Get all playlists from your library (requires auth).

```
get_library_playlists()
```

### Get Playlist
Get detailed information about a specific playlist.

```
get_playlist(playlist_id)
```

### Create Playlist
Create a new playlist in your library.

```
create_playlist(title, description?, privacy?)
```

### Add Songs to Playlist
Add songs to an existing playlist.

```
add_songs_to_playlist(playlist_id, video_ids)
```

### Remove Songs from Playlist
Remove songs from a playlist.

```
remove_songs_from_playlist(playlist_id, videos)
```

### Delete Playlist
Delete a playlist from your library.

```
delete_playlist(playlist_id)
```

### Edit Playlist
Edit playlist metadata.

```
edit_playlist(playlist_id, title?, description?, privacy?)
```



## Usage Examples

### With Claude Desktop

Once configured, you can use natural language commands:

- "Search for songs by The Beatles"
- "Create a new playlist called 'Workout Mix'"
- "Add the top 5 songs by Dua Lipa to my Summer Vibes playlist"
- "Create a playlist called 'Study Jazz' and add relaxing jazz songs"
- "Show me all my playlists"
- "Delete my old test playlist"

### With Python Client

```python
from mcp_client import MCPClient

client = MCPClient("youtube-music-server")

# Search for music
results = client.call_tool("search_music", {
    "query": "Bohemian Rhapsody",
    "filter": "songs"
})

# Create a playlist
playlist = client.call_tool("create_playlist", {
    "title": "My Awesome Playlist",
    "description": "Songs I love",
    "privacy": "PRIVATE"
})

# Add songs to playlist
client.call_tool("add_songs_to_playlist", {
    "playlist_id": playlist["playlist_id"],
    "video_ids": ["videoId1", "videoId2"]
})
```

## Privacy & Security

- **Header Security**: Your headers are stored locally and never transmitted to third parties
- **Session Isolation**: Each session has its own authentication context
- **No Password Storage**: We never store or ask for your Google password
- **Revocable Access**: You can revoke access anytime by signing out of YouTube Music

## Troubleshooting

### "YouTube Music headers not configured"
- Ensure you've provided your complete request headers in the configuration
- Check that your headers haven't expired (sign in to YouTube Music again)
- Verify headers include cookie information and authorization data

### "Authentication required"
- Some features require authentication even with headers
- Try refreshing your headers from YouTube Music

### Search works but playlists don't
- Playlist operations require valid authentication headers
- Ensure you're signed in to YouTube Music in your browser
- Check that your headers include complete cookie and authorization information

### Headers expire frequently
- YouTube Music headers typically last 2 weeks
- Sign in with "Remember me" checked for longer-lasting sessions
- Update headers when you see authentication errors

## Contributing

Contributions are welcome! Please feel free to submit a Pull Request.

## License

MIT License - See [LICENSE](LICENSE) file for details

## Acknowledgments

- Built with [ytmusicapi](https://github.com/sigma67/ytmusicapi) by sigma67
- Implements the [Model Context Protocol](https://modelcontextprotocol.io/)
- Deployable via [Smithery](https://smithery.ai/)

## Support

For issues, questions, or suggestions:
- Open an issue on [GitHub](https://github.com/CaullenOmdahl/youtube-music-mcp-server/issues)
- Check existing issues for solutions

## Disclaimer

This project is not affiliated with, endorsed by, or connected to YouTube, YouTube Music, or Google. Use at your own risk and in accordance with YouTube's Terms of Service.
